package com.iksgmbh.sysnat.test;

import org.junit.Test;
import org.junit.After;
import org.junit.Before;

import com.iksgmbh.sysnat.testcasejavatemplate.TestCaseTemplateParent;
import com.iksgmbh.sysnat.test.testTemplateContainers.testcasegeneratortestapplication.ComplexInstructionTestApplication_LanguageTemplateContainer;
import ReportCreator;

/**
 * Executable Example for TestApplication 'HomePageIKS'.
 * Autogenerated by SysNatTesting.
 */
public class ExampleTest extends TestCaseTemplateParent
{
	private static final String BEHAVIOUR_ID = "BehaviourId";
	
	protected ComplexInstructionTestApplication_LanguageTemplateContainer complexInstructionTestApplication_LanguageTemplateContainer;
	
	public ExampleTest() {
		executionInfo.register(BEHAVIOUR_ID, 1);
	}
	
	@Before
	public void setUp() 
	{
		super.setUp();
		complexInstructionTestApplication_LanguageTemplateContainer = new ComplexInstructionTestApplication_LanguageTemplateContainer(this);
	}

	@After
	public void shutdown() 
	{
		if ( ! isSkipped() && executionInfo.isApplicationStarted()) {
			if (languageTemplatesCommon != null) languageTemplatesCommon.gotoStartPage();
		}
		complexInstructionTestApplication_LanguageTemplateContainer = null;
		super.shutdown();
	}

	private void prepareOnceIfNeeded()
	{
	    if (executionInfo.isFirstXXOfGroup(BEHAVIOUR_ID))
	    {
	        languageTemplatesCommon.prepareOnce1();
	        languageTemplatesCommon.prepareOnce2();
	        languageTemplatesCommon.createComment(ReportCreator.END_OF_ONETIME_PRECONDTIONS_COMMENT);
	    }
	}
	
	@Test
	@Override
	public void executeTestCase() 
	{
		try {		
			languageTemplatesCommon.declareXXGroupForBehaviour("BehaviourId");
			prepareOnceIfNeeded();
			languageTemplatesCommon.prepare1();
			languageTemplatesCommon.prepare2();
			languageTemplatesCommon.startNewXX("XXId");
			templateContainer.doSomethingElse();
			languageTemplatesCommon.cleanup1();
			languageTemplatesCommon.cleanup2();
			cleanupOnceIfNeeded();
			
			closeCurrentTestCaseWithSuccess();
		} catch (Throwable e) {
			super.handleThrowable(e);
		}
	}
	
	private void cleanupOnceIfNeeded()
	{
	    if (executionInfo.isLastXXOfGroup(BEHAVIOUR_ID))
	    {
	        languageTemplatesCommon.createComment(ReportCreator.START_OF_ONETIME_CLEANUPS_COMMENT);
	        languageTemplatesCommon.cleanupOnce1();
	        languageTemplatesCommon.cleanupOnce2();
	    }
	}
}